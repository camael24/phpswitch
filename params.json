{"body":"# phpswitch\r\nA CLI utility to help you build and test PHP versions\r\n\r\n## How to install\r\n\r\n```shell\r\n$ curl https://raw.github.com/jubianchi/phpswitch/master/bin/installer | sudo php\r\n\r\n# Creates the phpswitch workspace\r\n$ phpswitch init\r\n```\r\n\r\n## How to use\r\n\r\n### Enable phpswitch\r\n\r\nYou can temporarily enable phpswitch using this command :\r\n\r\n```shell\r\nsource /usr/share/phpswitch/.phpswitch/.phpswitchrc\r\n```\r\n\r\nIf you want to permanently enable phpswitch, add these lines to your ```.bashrc``` or ```.zshrc``` :\r\n\r\n```shell\r\nsource /usr/share/phpswitch/.phpswitch/.phpswitchrc\r\nphp switch on > /dev/null\r\n```\r\n\r\n**Once enabled, phpswitch will override the default ```php``` command. To get usage informations, use ```$ php -h```**\r\n\r\n### Install a new PHP version\r\n\r\nTo install a new PHP version using the default options, run this command :\r\n\r\n```shell\r\n$ phpswitch php:install 5.4.8 --default\r\n```\r\n\r\nTo get the full options list, use this command :\r\n\r\n```shell\r\n$ phpswitch help php:install\r\n```\r\n\r\nWith phpswitch, you can install the same PHP version many times using different configurations :\r\n\r\n```shell\r\n$ phpswitch php:install 5.4.8 --alias=atoum --atoum\r\n```\r\n\r\nThis will install a new php-5.4.8 with the default atoum configuration. The name of this environment will\r\nbe ```atoum-5.4.8```.\r\n\r\n### Switch PHP version\r\n\r\nTo switch PHP version use this command :\r\n\r\n```shell\r\n$ php switch php-5.4.8\r\n```\r\n\r\nIf you want to switch to an aliased PHP version, use this command :\r\n\r\n```shell\r\n$ php switch atoum-5.4.8\r\n```\r\n\r\nTo restore the system default PHP version, use this command :\r\n\r\n```shell\r\n$ php switch off\r\n```\r\n\r\n### Display the current PHP version\r\n\r\nTo display the current PHP version, use one of these commands :\r\n\r\n```shell\r\n# Will dislpay the PHP version message\r\n$ php -v\r\n\r\n# Will display the phpswitch PHP version name\r\n$ phpswitch php:current\r\n\r\n# Combine output of both previous commands\r\n$ php current\r\n```\r\n\r\n### Get the list of available PHP version\r\n\r\nTo get the list of installed PHP versions, use this command :\r\n\r\n```shell\r\n$ php list\r\n```\r\n\r\nIf you want to get the list of available (installable) PHP versions, use this command :\r\n\r\n```shell\r\n$ phpswitch php:list --available\r\n```\r\n\r\n### Manage PHP configuration\r\n\r\nWith phpswitch you will be able to quickly define or retrieve configuration directives :\r\n\r\n**phpswitch is only able to manage configuration for PHP versions installed through it**\r\n\r\n```shell\r\n# Retrieves the value of date.timezone\r\n$ phpswitch php:config date.timezone\r\n\r\n# Defines the value of date.timezone\r\n$ phpswitch php:config date.timezone Europe/Paris\r\n\r\n# Same as previous commands\r\n$ php config date.timezone\r\n$ php config date.timezone Europe/Paris\r\n```\r\n\r\n**phpswitch is only able to work with configuration directives that where defined through it :**\r\n\r\n```shell\r\n$ phpswitch install 5.4.9 --default\r\n\r\n# This command will fail as the directive was not defined through phpswitch\r\n$ php config error_reporting\r\n\r\n$ php config error_reporting E_ALL\r\n\r\n# The command will now succeed as the value was previously defined through phpswitch\r\n$ php config error_reporting\r\nerror_reporting => E_ALL\r\n```\r\n\r\n### Working with Apache2\r\n\r\nphpswitch is able to trigger Apache2 modules build and manage them for you. You will only have to\r\nask when you want to switch the current module :\r\n\r\n```shell\r\n$ phpswitch php:install 5.4.8 --default --apxs2=/usr/sbin/apxs\r\n\r\n$ php switch php-5.4.8 --apache2\r\nSwitching Apache2 module to php-5.4.8\r\nYou should restart apache2 using one of:\r\n    - sudo /etc/init.d/apache2 restart\r\n    - sudo service apache2 restart\r\n    - sudo apachectl restart\r\n    - ...\r\nPHP switched to php-5.4.8\r\nPHP 5.4.8 (cli) (built: Dec 31 2012 23:43:05)\r\nCopyright (c) 1997-2012 The PHP Group\r\nZend Engine v2.4.0, Copyright (c) 1998-2012 Zend Technologies\r\n\r\n$ php switch off                                                                                                          ⮂ Mar 1 jan 2013 01:39:15 ⮂ 72%\r\nRestoring system default Apache2 module\r\nYou should restart apache2 using one of:\r\n    - sudo /etc/init.d/apache2 restart\r\n    - sudo service apache2 restart\r\n    - sudo apachectl restart\r\n    - ...\r\nPHP switched to system default version\r\nPHP 5.3.15 with Suhosin-Patch (cli) (built: Aug 24 2012 17:45:44)\r\nCopyright (c) 1997-2012 The PHP Group\r\nZend Engine v2.3.0, Copyright (c) 1998-2012 Zend Technologies\r\n    with Xdebug v2.2.1, Copyright (c) 2002-2012, by Derick Rethans\r\n```\r\n\r\n## Extras\r\n\r\nIf you are using [my ZSH theme](https://github.com/jubianchi/dotfiles), you may want to use the phpswitch prompt segment.\r\nTo do so, make your ```.zshrc``` match the following lines :\r\n\r\n```shell\r\n##\r\n## ZSH Theme Configuration\r\n##\r\nsource /usr/share/phpswitch/.phpswitch/.phpswitchprompt\r\n\r\nLEFT_PROMPT=(status context dir phpswitch sf2 vagrant git); export LEFT_PROMPT\r\nRIGHT_PROMPT=(date battery); export RIGHT_PROMPT\r\nZSH_THEME=\"jubianchi\"\r\n```\r\n\r\nAs you can see, you will need to source the ```.phpswitchprompt``` file and add the ```phpswitch```\r\nsegment to one of the two prompts.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"phpswitch","tagline":"A CLI utility to help you build and test PHP versions"}